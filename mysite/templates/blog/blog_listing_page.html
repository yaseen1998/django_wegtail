{% extends "base.html" %}

{% load wagtailimages_tags wagtailroutablepage_tags  %}

{% block content %}
<a href="{% routablepageurl page "latest_posts" %}"> view latest </a>
<h1>link {{link}}</h1>
<h1>Categories</h1>
    <ul>
        {% for cat in categories.all %}
        <li>
             
            <a href="?category={{cat.slug}}">{{cat.name}} </a>
        </li>
        {% endfor %}
    </ul>
    {% for post in posts %}
    {% image post.banner_image fill-250x250 as img %}
    <br/>
    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <a href="{{post.url}}">
                <img src="{{ img.url }}" alt="{{ img.alt }}" class="img-responsive">
            </a>
        </div>
        <div class="col-sm-8">
            <a href="{{post.url}}">
                {{ post.custom_title }}
            </a>
        </div>
        
            {% if post.specific.subtitile %}
            <h2>{{ post.specific.subtitile }}</h2>
            
            {% endif %}
      
    </div>
    {% endfor %}


    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-12">
                {% if posts.paginator.num_pages > 1 %}
                <div class="pagination">
                    {% if posts.has_previous %}
                    <a href="?page={{ posts.previous_page_number }}">&larr; Previous</a>
                    {% endif %}
                    {% for page in posts.paginator.page_range %}
                    <li class="page-item">
                        <a href="?page={{ page }}" class="page-link">
                            page {{ page }}
                        </a>
                    </li>
                    {% endfor %}

                    {% if posts.has_next %}
                    <a href="?page={{ posts.next_page_number }}">&rarr; Next</a>
                    {% endif %}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}